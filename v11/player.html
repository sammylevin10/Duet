<!--
Duet - player.html
Sahana Sripadanna and Sammy Levin 2021
Handles in-browser playback and music visualization via p5
 -->

<!DOCTYPE html>
<html lang="en">
<!-- <script src="sketch.js" type="text/javascript"></script> -->

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Duet - Player</title>
  <script src="https://kit.fontawesome.com/87ec702a1a.js" crossorigin="anonymous"></script>
  <script src="p5/p5.js"></script>
  <script src="p5/addons/p5.sound.js"></script>
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js" integrity="sha512-N4kV7GkNv7QR7RX9YF/olywyIgIwNvfEe2nZtfyj73HdjCUkAfOBDbcuJ/cTaN04JKRnw1YG1wnUyNKMsNgg3g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <!-- the p5 sound library -->
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/addons/p5.sound.min.js" integrity="sha512-WzkwpdWEMAY/W8WvP9KS2/VI6zkgejR4/KTxTl4qHx0utqeyVE0JY+S1DlMuxDChC7x0oXtk/ESji6a0lP/Tdg==" crossorigin="anonymous"
    referrerpolicy="no-referrer">
  </script> -->
</head>

<script src="https://sdk.scdn.co/spotify-player.js"></script>
<script src="https://kit.fontawesome.com/87ec702a1a.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="style.css" />

<body>
  <!-- <button id="fetch_profile_info">Fetch profile information</button> -->
  <!-- <hr /> -->
  <!-- <button id="togglePlay">Toggle Play</button> -->
  <!-- <hr /> -->
  <!-- <div class="text" id="profile_info"></div> -->
  <a href="index.html">Debug p5 audio</a>
  <div class="center-wrapper">
    <div class="modal" id="connect-modal">
      <h1 class="h1-modal">Connect Duet</h1>
      <p class="p-modal">
        In the Spotify devices menu, select "Duet" from the options
      </p>
      <p class="p-modal">
        Listen using your speakers for the full visualization experience
      </p>
      <button class="spotify-button" id="hide-modal">
        I'M CONNECTED
      </button>
    </div>
  </div>
  <div class="center-container">
    <div id="playback-buttons">
      <button id="previousTrack" class="playback-control">
        <i class="fas fa-step-backward"></i>
      </button>
      <button id="togglePlay" class="playback-control">
        <i id="togglePlayIcon" class="fas fa-play-circle"></i>
      </button>
      <button id="nextTrack" class="playback-control">
        <i class="fas fa-step-forward"></i>
      </button>
    </div>
  </div>

  <!-- <iframe id="canvas-container"></iframe> -->
  <!-- IFRAME SRC IS IN PARENT FOLDER, NOT CANVASES FOLDER -->
  <iframe class="canvas" id="canvas1" src="canvases/sketch1.html" scrolling="no"></iframe>
  <iframe class="canvas" id="canvas2" src="canvases/sketch2.html" scrolling="no"></iframe>
  <iframe class="canvas" id="canvas3" src="canvases/sketch3.html" scrolling="no"></iframe>
  <iframe class="canvas" id="canvas4" src="canvases/sketch4.html" scrolling="no"></iframe>

  <div class="spotify-bar">
    <div class="left-container">
      <!-- <div id="album-cover"></div> -->
      <img src="" id="album-cover" />
      <div id="song-info">
        <p id="name"></p>
        <p id="artist"></p>
      </div>
    </div>

  </div>
  <button id="toggleLibrary">
    <i class="fas fa-th"></i>
  </button>

  <div id="library">
    <!-- <p>Visualization Library</p> -->
    <div class="imgRow">
      <div class="imgButton" onclick="toggleCanvas(1)">
        <!-- <p class="imgButtonText">Mode 1</p> -->
        <img src="assets/Blossom.jpg">
      </div>
      <div class="imgButton" onclick="toggleCanvas(2)">
        <!-- <p class="imgButtonText">Mode 2</p> -->
        <img src="assets/Crystalize.jpg">
      </div>
    </div>
    <div class="imgRow">
      <div class="imgButton" onclick="toggleCanvas(3)">
        <!-- <p class="imgButtonText">Mode 3</p> -->
        <img src="assets/placeholder.png">
      </div>
      <div class="imgButton" onclick="toggleCanvas(4)">
        <!-- <p class="imgButtonText">Mode 4</p> -->
        <img src="assets/placeholder.png">
      </div>
    </div>
  </div>
</body>
<script src="player.js"></script>
<script src="sketch.js"></script>

</html>